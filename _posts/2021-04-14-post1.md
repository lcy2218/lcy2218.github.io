---
layout: post
title:  路由基础
date: 2021-04-14 17:59:30 +0900
category: routing
---
<!-- TOC -->

- [0x0 什么是路由？什么是下一跳？](#0x0-什么是路由什么是下一跳)
- [0x1 概括路由表的组成？](#0x1-概括路由表的组成)
- [0x2 路由表的来源？](#0x2-路由表的来源)
- [0x3 直连路由的作用？](#0x3-直连路由的作用)
- [0x4 什么时候形成负载均衡？](#0x4-什么时候形成负载均衡)
- [0x5 最长子网掩码匹配？](#0x5-最长子网掩码匹配)
- [0x6 路由汇总？](#0x6-路由汇总)
- [0x7 优先级何时起作用？](#0x7-优先级何时起作用)

<!-- /TOC -->
## 0x0 什么是路由？什么是下一跳？

- 路由是：指导IP报文发送的路径信息
- 下一跳：下一个具备路由功能的节点

## 0x1 概括路由表的组成？

- 路由表 = 路径信息+优劣
1. 路径信息：来源、掩码、下一跳、协议
2. 优劣：优先级，开销

## 0x2 路由表的来源？

- 直连发现+静态配置+动态学习

## 0x3 直连路由的作用？

- 存活条件:配IP+接口UP
- 不用维护、不需要消耗资源、优先级最高

## 0x4 什么时候形成负载均衡？

- 当两条路由优先级相同，开销相同就会形成负载均衡(等价路由)
1. 按照流量的负载均衡，192.168.1.0走R1 192.168.2.0走R2
2. 按照数据包的负载均衡， 一个包走R1一个包走R2

## 0x5 最长子网掩码匹配？

- 精确度，匹配掩码最长的路由
![](/images/20210414-1-1.png)

## 0x6 路由汇总？

- 路由汇总可能形成环路；可以使用路由黑洞解决（下一跳配置成null）
- 类似子网划分的反向操作，子网聚合

## 0x7 优先级何时起作用？
- 写进路由表前起作用